HTTP status code
500 (Internal Server Error)
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="robots" content="NONE,NOARCHIVE">
  <title>FieldError
          at /checkout/wh/</title>
  <style type="text/css">
    html * { padding:0; margin:0; }
    body * { padding:10px 20px; }
    body * * { padding:0; }
    body { font:small sans-serif; background-color:#fff; color:#000; }
    body>div { border-bottom:1px solid #ddd; }
    h1 { font-weight:normal; }
    h2 { margin-bottom:.8em; }
    h3 { margin:1em 0 .5em 0; }
    h4 { margin:0 0 .5em 0; font-weight: normal; }
    code, pre { font-size: 100%; white-space: pre-wrap; }
    table { border:1px solid #ccc; border-collapse: collapse; width:100%; background:white; }
    tbody td, tbody th { vertical-align:top; padding:2px 3px; }
    thead th {
      padding:1px 6px 1px 3px; background:#fefefe; text-align:left;
      font-weight:normal; font-size:11px; border:1px solid #ddd;
    }
    tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }
    table.vars { margin:5px 0 2px 40px; }
    table.vars td, table.req td { font-family:monospace; }
    table td.code { width:100%; }
    table td.code pre { overflow:hidden; }
    table.source th { color:#666; }
    table.source td { font-family:monospace; white-space:pre; border-bottom:1px solid #eee; }
    ul.traceback { list-style-type:none; color: #222; }
    ul.traceback li.frame { padding-bottom:1em; color:#4f4f4f; }
    ul.traceback li.user { background-color:#e0e0e0; color:#000 }
    div.context { padding:10px 0; overflow:hidden; }
    div.context ol { padding-left:30px; margin:0 10px; list-style-position: inside; }
    div.context ol li { font-family:monospace; white-space:pre; color:#777; cursor:pointer; padding-left: 2px; }
    div.context ol li pre { display:inline; }
    div.context ol.context-line li { color:#464646; background-color:#dfdfdf; padding: 3px 2px; }
    div.context ol.context-line li span { position:absolute; right:32px; }
    .user div.context ol.context-line li { background-color:#bbb; color:#000; }
    .user div.context ol li { color:#666; }
    div.commands { margin-left: 40px; }
    div.commands a { color:#555; text-decoration:none; }
    .user div.commands a { color: black; }
    #summary { background: #ffc; }
    #summary h2 { font-weight: normal; color: #666; }
    #explanation { background:#eee; }
    #template, #template-not-exist { background:#f6f6f6; }
    #template-not-exist ul { margin: 0 0 10px 20px; }
    #template-not-exist .postmortem-section { margin-bottom: 3px; }
    #unicode-hint { background:#eee; }
    #traceback { background:#eee; }
    #requestinfo { background:#f6f6f6; padding-left:120px; }
    #summary table { border:none; background:transparent; }
    #requestinfo h2, #requestinfo h3 { position:relative; margin-left:-100px; }
    #requestinfo h3 { margin-bottom:-1em; }
    .error { background: #ffc; }
    .specific { color:#cc3300; font-weight:bold; }
    h2 span.commands { font-size:.7em; font-weight:normal; }
    span.commands a:link {color:#5E5694;}
    pre.exception_value { font-family: sans-serif; color: #575757; font-size: 1.5em; margin: 10px 0 10px 0; }
    .append-bottom { margin-bottom: 10px; }
    .fname { user-select: all; }
  </style>
  
  <script>
    function hideAll(elems) {
      for (var e = 0; e < elems.length; e++) {
        elems[e].style.display = 'none';
      }
    }
    window.onload = function() {
      hideAll(document.querySelectorAll('table.vars'));
      hideAll(document.querySelectorAll('ol.pre-context'));
      hideAll(document.querySelectorAll('ol.post-context'));
      hideAll(document.querySelectorAll('div.pastebin'));
    }
    function toggle() {
      for (var i = 0; i < arguments.length; i++) {
        var e = document.getElementById(arguments[i]);
        if (e) {
          e.style.display = e.style.display == 'none' ? 'block': 'none';
        }
      }
      return false;
    }
    function varToggle(link, id) {
      toggle('v' + id);
      var s = link.getElementsByTagName('span')[0];
      var uarr = String.fromCharCode(0x25b6);
      var darr = String.fromCharCode(0x25bc);
      s.textContent = s.textContent == uarr ? darr : uarr;
      return false;
    }
    function switchPastebinFriendly(link) {
      s1 = "Switch to copy-and-paste view";
      s2 = "Switch back to interactive view";
      link.textContent = link.textContent.trim() == s1 ? s2: s1;
      toggle('browserTraceback', 'pastebinTraceback');
      return false;
    }
  </script>
  
</head>
<body>
<div id="summary">
  <h1>FieldError
       at /checkout/wh/</h1>
  <pre class="exception_value">Cannot resolve keyword &#x27;original_bag&#x27; into field. Choices are: country, county, date, delivery_cost, email, full_name, grand_total, id, lineitems, order_number, order_total, phone_number, postcode, street_address1, street_address2, town_or_city</pre>
  <table class="meta">
    <tr>
      <th>Request Method:</th>
      <td>POST</td>
    </tr>
    <tr>
      <th>Request URL:</th>
      <td>https://genghis-fitness-0467655b3c90.herokuapp.com/checkout/wh/</td>
    </tr>
    <tr>
      <th>Django Version:</th>
      <td>3.2.19</td>
    </tr>
    <tr>
      <th>Exception Type:</th>
      <td>FieldError</td>
    </tr>
    <tr>
      <th>Exception Value:</th>
      <td><pre>Cannot resolve keyword &#x27;original_bag&#x27; into field. Choices are: country, county, date, delivery_cost, email, full_name, grand_total, id, lineitems, order_number, order_total, phone_number, postcode, street_address1, street_address2, town_or_city</pre></td>
    </tr>
    <tr>
      <th>Exception Location:</th>
      <td><span class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/sql/query.py</span>, line 1562, in names_to_path</td>
    </tr>
    <tr>
      <th>Python Executable:</th>
      <td>/app/.heroku/python/bin/python</td>
    </tr>
    <tr>
      <th>Python Version:</th>
      <td>3.11.4</td>
    </tr>
    <tr>
      <th>Python Path:</th>
      <td><pre>[&#x27;/app/.heroku/python/bin&#x27;,
 &#x27;/app&#x27;,
 &#x27;/app/.heroku/python/lib/python311.zip&#x27;,
 &#x27;/app/.heroku/python/lib/python3.11&#x27;,
 &#x27;/app/.heroku/python/lib/python3.11/lib-dynload&#x27;,
 &#x27;/app/.heroku/python/lib/python3.11/site-packages&#x27;]</pre></td>
    </tr>
    <tr>
      <th>Server time:</th>
      <td>Wed, 19 Jul 2023 13:03:54 +0000</td>
    </tr>
  </table>
</div>
<div id="traceback">
  <h2>Traceback <span class="commands"><a href="#" onclick="return switchPastebinFriendly(this);">
    Switch to copy-and-paste view</a></span>
  </h2>
  <div id="browserTraceback">
    <ul class="traceback">
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/core/handlers/exception.py</code>, line 47, in inner
          
          
            <div class="context" id="c139946873010432">
              
                <ol start="40" class="pre-context" id="pre139946873010432">
                
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>                response = await sync_to_async(response_for_exception, thread_sensitive=False)(request, exc)</pre></li>
                
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>            return response</pre></li>
                
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>        return inner</pre></li>
                
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>    else:</pre></li>
                
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>        @wraps(get_response)</pre></li>
                
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>        def inner(request):</pre></li>
                
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>            try:</pre></li>
                
                </ol>
              
              <ol start="47" class="context-line">
                <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>                response = get_response(request)</pre> <span>…</span></li>
              </ol>
              
                <ol start='48' class="post-context" id="post139946873010432">
                  
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>            except Exception as exc:</pre></li>
                  
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>                response = response_for_exception(request, exc)</pre></li>
                  
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>            return response</pre></li>
                  
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre>        return inner</pre></li>
                  
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873010432', 'post139946873010432')"><pre></pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873010432')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873010432">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>exc</td>
                    <td class="code"><pre>FieldError(&quot;Cannot resolve keyword &#x27;original_bag&#x27; into field. Choices are: country, county, date, delivery_cost, email, full_name, grand_total, id, lineitems, order_number, order_total, phone_number, postcode, street_address1, street_address2, town_or_city&quot;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>get_response</td>
                    <td class="code"><pre>&lt;bound method BaseHandler._get_response of &lt;django.core.handlers.wsgi.WSGIHandler object at 0x7f47ebfe4910&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class="code"><pre>&lt;WSGIRequest: POST &#x27;/checkout/wh/&#x27;&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/core/handlers/base.py</code>, line 181, in _get_response
          
          
            <div class="context" id="c139946872997888">
              
                <ol start="174" class="pre-context" id="pre139946872997888">
                
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>        if response is None:</pre></li>
                
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>            wrapped_callback = self.make_view_atomic(callback)</pre></li>
                
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>            # If it is an asynchronous view, run it in a subthread.</pre></li>
                
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>            if asyncio.iscoroutinefunction(wrapped_callback):</pre></li>
                
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>                wrapped_callback = async_to_sync(wrapped_callback)</pre></li>
                
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>            try:</pre></li>
                
                </ol>
              
              <ol start="181" class="context-line">
                <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>                response = wrapped_callback(request, *callback_args, **callback_kwargs)</pre> <span>…</span></li>
              </ol>
              
                <ol start='182' class="post-context" id="post139946872997888">
                  
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>            except Exception as e:</pre></li>
                  
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>                response = self.process_exception_by_middleware(e, request)</pre></li>
                  
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>                if response is None:</pre></li>
                  
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>                    raise</pre></li>
                  
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946872997888', 'post139946872997888')"><pre>        # Complain if the view returned None (a common error).</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946872997888')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946872997888">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>callback</td>
                    <td class="code"><pre>&lt;function webhook at 0x7f47ebd34cc0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback_args</td>
                    <td class="code"><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>callback_kwargs</td>
                    <td class="code"><pre>{}</pre></td>
                  </tr>
                
                  <tr>
                    <td>middleware_method</td>
                    <td class="code"><pre>&lt;bound method CsrfViewMiddleware.process_view of &lt;django.middleware.csrf.CsrfViewMiddleware object at 0x7f47ebfe4f50&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class="code"><pre>&lt;WSGIRequest: POST &#x27;/checkout/wh/&#x27;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>response</td>
                    <td class="code"><pre>None</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;django.core.handlers.wsgi.WSGIHandler object at 0x7f47ebfe4910&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>wrapped_callback</td>
                    <td class="code"><pre>&lt;function webhook at 0x7f47ebd34cc0&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/views/decorators/http.py</code>, line 40, in inner
          
          
            <div class="context" id="c139946873011904">
              
                <ol start="33" class="pre-context" id="pre139946873011904">
                
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>                response = HttpResponseNotAllowed(request_method_list)</pre></li>
                
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>                log_response(</pre></li>
                
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>                    &#x27;Method Not Allowed (%s): %s&#x27;, request.method, request.path,</pre></li>
                
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>                    response=response,</pre></li>
                
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>                    request=request,</pre></li>
                
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>                )</pre></li>
                
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>                return response</pre></li>
                
                </ol>
              
              <ol start="40" class="context-line">
                <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>            return func(request, *args, **kwargs)</pre> <span>…</span></li>
              </ol>
              
                <ol start='41' class="post-context" id="post139946873011904">
                  
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>        return inner</pre></li>
                  
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>    return decorator</pre></li>
                  
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>require_GET = require_http_methods([&quot;GET&quot;])</pre></li>
                  
                  <li onclick="toggle('pre139946873011904', 'post139946873011904')"><pre>require_GET.__doc__ = &quot;Decorator to require that a view only accepts the GET method.&quot;</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873011904')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873011904">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>func</td>
                    <td class="code"><pre>&lt;function webhook at 0x7f47ebd34c20&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{}</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class="code"><pre>&lt;WSGIRequest: POST &#x27;/checkout/wh/&#x27;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>request_method_list</td>
                    <td class="code"><pre>[&#x27;POST&#x27;]</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/views/decorators/csrf.py</code>, line 54, in wrapped_view
          
          
            <div class="context" id="c139946873004416">
              
                <ol start="47" class="pre-context" id="pre139946873004416">
                
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre>def csrf_exempt(view_func):</pre></li>
                
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre>    &quot;&quot;&quot;Mark a view function as being exempt from the CSRF view protection.&quot;&quot;&quot;</pre></li>
                
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre>    # view_func.csrf_exempt = True would also work, but decorators are nicer</pre></li>
                
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre>    # if they don&#x27;t have side effects, so return a new function.</pre></li>
                
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre>    def wrapped_view(*args, **kwargs):</pre></li>
                
                </ol>
              
              <ol start="54" class="context-line">
                <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre>        return view_func(*args, **kwargs)</pre> <span>…</span></li>
              </ol>
              
                <ol start='55' class="post-context" id="post139946873004416">
                  
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre>    wrapped_view.csrf_exempt = True</pre></li>
                  
                  <li onclick="toggle('pre139946873004416', 'post139946873004416')"><pre>    return wraps(view_func)(wrapped_view)</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873004416')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873004416">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>(&lt;WSGIRequest: POST &#x27;/checkout/wh/&#x27;&gt;,)</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{}</pre></td>
                  </tr>
                
                  <tr>
                    <td>view_func</td>
                    <td class="code"><pre>&lt;function webhook at 0x7f47ebd34b80&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame user">
          
            <code class="fname">/app/checkout/webhooks.py</code>, line 51, in webhook
          
          
            <div class="context" id="c139946874370752">
              
                <ol start="44" class="pre-context" id="pre139946874370752">
                
                  <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre>    event_type = event[&#x27;type&#x27;]</pre></li>
                
                  <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre>    # If there&#x27;s a handler for it, get it from the event map</pre></li>
                
                  <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre>    # Use the generic one by default</pre></li>
                
                  <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre>    event_handler = event_map.get(event_type, handler.handle_event)</pre></li>
                
                  <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre>    # Call the event handler with the event</pre></li>
                
                </ol>
              
              <ol start="51" class="context-line">
                <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre>    response = event_handler(event)</pre> <span>…</span></li>
              </ol>
              
                <ol start='52' class="post-context" id="post139946874370752">
                  
                  <li onclick="toggle('pre139946874370752', 'post139946874370752')"><pre>    return response</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946874370752')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946874370752">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>event</td>
                    <td class="code"><pre>&lt;Event event id=evt_3NVa2CBa6q53FNEn0mPnFHwy at 0x7f47ebbebef0&gt; JSON: {
  &quot;api_version&quot;: &quot;2022-11-15&quot;,
  &quot;created&quot;: 1689771833,
  &quot;data&quot;: {
    &quot;object&quot;: {
      &quot;amount&quot;: 1299,
      &quot;amount_capturable&quot;: 0,
      &quot;amount_details&quot;: {
        &quot;tip&quot;: {}
      },
      &quot;amount_received&quot;: 1299,
      &quot;application&quot;: null,
      &quot;application_fee_amount&quot;: null,
      &quot;automatic_payment_methods&quot;: null,
      &quot;canceled_at&quot;: null,
      &quot;cancellation_reason&quot;: null,
      &quot;capture_method&quot;: &quot;automatic&quot;,
      &quot;client_secret&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz_secret_aQjLuqBJVh5jsDtdP43b5K7ZG&quot;,
      &quot;confirmation_method&quot;: &quot;automatic&quot;,
      &quot;created&quot;: 1689771796,
      &quot;currency&quot;: &quot;gbp&quot;,
      &quot;customer&quot;: null,
      &quot;description&quot;: null,
      &quot;id&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz&quot;,
      &quot;invoice&quot;: null,
      &quot;last_payment_error&quot;: null,
      &quot;latest_charge&quot;: &quot;ch_3NVa2CBa6q53FNEn0ADcrhH4&quot;,
      &quot;livemode&quot;: false,
      &quot;metadata&quot;: {
        &quot;bag&quot;: &quot;{\&quot;2\&quot;: {\&quot;items_by_size\&quot;: {\&quot;XS\&quot;: 1}}}&quot;,
        &quot;save_info&quot;: &quot;false&quot;,
        &quot;username&quot;: &quot;AnonymousUser&quot;
      },
      &quot;next_action&quot;: null,
      &quot;object&quot;: &quot;payment_intent&quot;,
      &quot;on_behalf_of&quot;: null,
      &quot;payment_method&quot;: &quot;pm_1NVa2mBa6q53FNEnPV3kK3oj&quot;,
      &quot;payment_method_options&quot;: {
        &quot;card&quot;: {
          &quot;installments&quot;: null,
          &quot;mandate_options&quot;: null,
          &quot;network&quot;: null,
          &quot;request_three_d_secure&quot;: &quot;automatic&quot;
        }
      },
      &quot;payment_method_types&quot;: [
        &quot;card&quot;
      ],
      &quot;processing&quot;: null,
      &quot;receipt_email&quot;: null,
      &quot;review&quot;: null,
      &quot;setup_future_usage&quot;: null,
      &quot;shipping&quot;: {
        &quot;address&quot;: {
          &quot;city&quot;: &quot;1231&quot;,
          &quot;country&quot;: &quot;GB&quot;,
          &quot;line1&quot;: &quot;12121&quot;,
          &quot;line2&quot;: &quot;12121&quot;,
          &quot;postal_code&quot;: &quot;12221&quot;,
          &quot;state&quot;: &quot;anywher&quot;
        },
        &quot;carrier&quot;: null,
        &quot;name&quot;: &quot;test genghis&quot;,
        &quot;phone&quot;: &quot;13412341234&quot;,
        &quot;tracking_number&quot;: null
      },
      &quot;source&quot;: null,
      &quot;statement_descriptor&quot;: null,
      &quot;statement_descriptor_suffix&quot;: null,
      &quot;status&quot;: &quot;succeeded&quot;,
      &quot;transfer_data&quot;: null,
      &quot;transfer_group&quot;: null
    }
  },
  &quot;id&quot;: &quot;evt_3NVa2CBa6q53FNEn0mPnFHwy&quot;,
  &quot;livemode&quot;: false,
  &quot;object&quot;: &quot;event&quot;,
  &quot;pending_webhooks&quot;: 1,
  &quot;request&quot;: {
    &quot;id&quot;: &quot;req_npZsVDDgnXg72E&quot;,
    &quot;idempotency_key&quot;: &quot;3a02bce7-4550-4dda-851a-58c51eb8d3de&quot;
  },
  &quot;type&quot;: &quot;payment_intent.succeeded&quot;
}</pre></td>
                  </tr>
                
                  <tr>
                    <td>event_handler</td>
                    <td class="code"><pre>&lt;bound method StripeWH_Handler.handle_payment_intent_succeeded of &lt;checkout.webhook_handler.StripeWH_Handler object at 0x7f47eb5ca150&gt;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>event_map</td>
                    <td class="code"><pre>{&#x27;payment_intent.payment_failed&#x27;: &lt;bound method StripeWH_Handler.handle_payment_intent_payment_failed of &lt;checkout.webhook_handler.StripeWH_Handler object at 0x7f47eb5ca150&gt;&gt;,
 &#x27;payment_intent.succeeded&#x27;: &lt;bound method StripeWH_Handler.handle_payment_intent_succeeded of &lt;checkout.webhook_handler.StripeWH_Handler object at 0x7f47eb5ca150&gt;&gt;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>event_type</td>
                    <td class="code"><pre>&#x27;payment_intent.succeeded&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>handler</td>
                    <td class="code"><pre>&lt;checkout.webhook_handler.StripeWH_Handler object at 0x7f47eb5ca150&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>payload</td>
                    <td class="code"><pre>(b&#x27;{\n  &quot;id&quot;: &quot;evt_3NVa2CBa6q53FNEn0mPnFHwy&quot;,\n  &quot;object&quot;: &quot;event&quot;,\n  &quot;api_ve&#x27;
 b&#x27;rsion&quot;: &quot;2022-11-15&quot;,\n  &quot;created&quot;: 1689771833,\n  &quot;data&quot;: {\n    &quot;object&quot;:&#x27;
 b&#x27; {\n      &quot;id&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz&quot;,\n      &quot;object&quot;: &quot;payment_i&#x27;
 b&#x27;ntent&quot;,\n      &quot;amount&quot;: 1299,\n      &quot;amount_capturable&quot;: 0,\n      &quot;amoun&#x27;
 b&#x27;t_details&quot;: {\n        &quot;tip&quot;: {\n        }\n      },\n      &quot;amount_received&#x27;
 b&#x27;&quot;: 1299,\n      &quot;application&quot;: null,\n      &quot;application_fee_amount&quot;: null&#x27;
 b&#x27;,\n      &quot;automatic_payment_methods&quot;: null,\n      &quot;canceled_at&quot;: null,\n  &#x27;
 b&#x27;    &quot;cancellation_reason&quot;: null,\n      &quot;capture_method&quot;: &quot;automatic&quot;,\n  &#x27;
 b&#x27;    &quot;client_secret&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz_secret_aQjLuqBJVh5jsDtdP43&#x27;
 b&#x27;b5K7ZG&quot;,\n      &quot;confirmation_method&quot;: &quot;automatic&quot;,\n      &quot;created&quot;: 1689&#x27;
 b&#x27;771796,\n      &quot;currency&quot;: &quot;gbp&quot;,\n      &quot;customer&quot;: null,\n      &quot;descript&#x27;
 b&#x27;ion&quot;: null,\n      &quot;invoice&quot;: null,\n      &quot;last_payment_error&quot;: null,\n   &#x27;
 b&#x27;   &quot;latest_charge&quot;: &quot;ch_3NVa2CBa6q53FNEn0ADcrhH4&quot;,\n      &quot;livemode&quot;: fal&#x27;
 b&#x27;se,\n      &quot;metadata&quot;: {\n        &quot;bag&quot;: &quot;{\\&quot;2\\&quot;: {\\&quot;items_by_size\\&quot;: &#x27;
 b&#x27;{\\&quot;XS\\&quot;: 1}}}&quot;,\n        &quot;save_info&quot;: &quot;false&quot;,\n        &quot;username&quot;: &quot;Anony&#x27;
 b&#x27;mousUser&quot;\n      },\n      &quot;next_action&quot;: null,\n      &quot;on_behalf_of&quot;: null&#x27;
 b&#x27;,\n      &quot;payment_method&quot;: &quot;pm_1NVa2mBa6q53FNEnPV3kK3oj&quot;,\n      &quot;payment_&#x27;
 b&#x27;method_options&quot;: {\n        &quot;card&quot;: {\n          &quot;installments&quot;: null,\n   &#x27;
 b&#x27;       &quot;mandate_options&quot;: null,\n          &quot;network&quot;: null,\n          &quot;re&#x27;
 b&#x27;quest_three_d_secure&quot;: &quot;automatic&quot;\n        }\n      },\n      &quot;payment_met&#x27;
 b&#x27;hod_types&quot;: [\n        &quot;card&quot;\n      ],\n      &quot;processing&quot;: null,\n      &quot;r&#x27;
 b&#x27;eceipt_email&quot;: null,\n      &quot;review&quot;: null,\n      &quot;setup_future_usage&quot;: n&#x27;
 b&#x27;ull,\n      &quot;shipping&quot;: {\n        &quot;address&quot;: {\n          &quot;city&quot;: &quot;1231&quot;,\n&#x27;
 b&#x27;          &quot;country&quot;: &quot;GB&quot;,\n          &quot;line1&quot;: &quot;12121&quot;,\n          &quot;line2&quot;&#x27;
 b&#x27;: &quot;12121&quot;,\n          &quot;postal_code&quot;: &quot;12221&quot;,\n          &quot;state&quot;: &quot;anywher&#x27;
 b&#x27;&quot;\n        },\n        &quot;carrier&quot;: null,\n        &quot;name&quot;: &quot;test genghis&quot;,\n  &#x27;
 b&#x27;      &quot;phone&quot;: &quot;13412341234&quot;,\n        &quot;tracking_number&quot;: null\n      },\n &#x27;
 b&#x27;     &quot;source&quot;: null,\n      &quot;statement_descriptor&quot;: null,\n      &quot;statemen&#x27;
 b&#x27;t_descriptor_suffix&quot;: null,\n      &quot;status&quot;: &quot;succeeded&quot;,\n      &quot;transfer&#x27;
 b&#x27;_data&quot;: null,\n      &quot;transfer_group&quot;: null\n    }\n  },\n  &quot;livemode&quot;: fals&#x27;
 b&#x27;e,\n  &quot;pending_webhooks&quot;: 1,\n  &quot;request&quot;: {\n    &quot;id&quot;: &quot;req_npZsVDDgnXg72E&#x27;
 b&#x27;&quot;,\n    &quot;idempotency_key&quot;: &quot;3a02bce7-4550-4dda-851a-58c51eb8d3de&quot;\n  },\n  &#x27;
 b&#x27;&quot;type&quot;: &quot;payment_intent.succeeded&quot;\n}&#x27;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>request</td>
                    <td class="code"><pre>&lt;WSGIRequest: POST &#x27;/checkout/wh/&#x27;&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>sig_header</td>
                    <td class="code"><pre>&#x27;t=1689771833,v1=c9c3a7e2da88887962a96e2d8cdfae8385526a6ec8df7a54811cb57f6e92f131,v0=91d0b2d686268e07315f68c6a441f21711b5c9748de995ebeaf8889df7546d22&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>wh_secret</td>
                    <td class="code"><pre>&#x27;whsec_AWI5fdk9BPWoyuH04reLtoMslTkMzEwy&#x27;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame user">
          
            <code class="fname">/app/checkout/webhook_handler.py</code>, line 51, in handle_payment_intent_succeeded
          
          
            <div class="context" id="c139946873005376">
              
                <ol start="44" class="pre-context" id="pre139946873005376">
                
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>            if value == &quot;&quot;:</pre></li>
                
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>                shipping_details.address[field] = None</pre></li>
                
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>        order_exists = False</pre></li>
                
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>        attempt = 1</pre></li>
                
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>        while attempt &lt;= 5:</pre></li>
                
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>            try:</pre></li>
                
                </ol>
              
              <ol start="51" class="context-line">
                <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>                order = Order.objects.get(</pre> <span>…</span></li>
              </ol>
              
                <ol start='52' class="post-context" id="post139946873005376">
                  
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>                    full_name__iexact=shipping_details.name,</pre></li>
                  
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>                    email__iexact=billing_details.email,</pre></li>
                  
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>                    phone_number__iexact=shipping_details.phone,</pre></li>
                  
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>                    country__iexact=shipping_details.address.country,</pre></li>
                  
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>                    postcode__iexact=shipping_details.address.postal_code,</pre></li>
                  
                  <li onclick="toggle('pre139946873005376', 'post139946873005376')"><pre>                    town_or_city__iexact=shipping_details.address.city,</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873005376')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873005376">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>attempt</td>
                    <td class="code"><pre>1</pre></td>
                  </tr>
                
                  <tr>
                    <td>bag</td>
                    <td class="code"><pre>&#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>billing_details</td>
                    <td class="code"><pre>&lt;StripeObject at 0x7f47eb580830&gt; JSON: {
  &quot;address&quot;: {
    &quot;city&quot;: &quot;1231&quot;,
    &quot;country&quot;: &quot;GB&quot;,
    &quot;line1&quot;: &quot;12121&quot;,
    &quot;line2&quot;: &quot;12121&quot;,
    &quot;postal_code&quot;: &quot;24242&quot;,
    &quot;state&quot;: &quot;anywher&quot;
  },
  &quot;email&quot;: &quot;khanlewis159@gmail.com&quot;,
  &quot;name&quot;: &quot;test genghis&quot;,
  &quot;phone&quot;: &quot;13412341234&quot;
}</pre></td>
                  </tr>
                
                  <tr>
                    <td>event</td>
                    <td class="code"><pre>&lt;Event event id=evt_3NVa2CBa6q53FNEn0mPnFHwy at 0x7f47ebbebef0&gt; JSON: {
  &quot;api_version&quot;: &quot;2022-11-15&quot;,
  &quot;created&quot;: 1689771833,
  &quot;data&quot;: {
    &quot;object&quot;: {
      &quot;amount&quot;: 1299,
      &quot;amount_capturable&quot;: 0,
      &quot;amount_details&quot;: {
        &quot;tip&quot;: {}
      },
      &quot;amount_received&quot;: 1299,
      &quot;application&quot;: null,
      &quot;application_fee_amount&quot;: null,
      &quot;automatic_payment_methods&quot;: null,
      &quot;canceled_at&quot;: null,
      &quot;cancellation_reason&quot;: null,
      &quot;capture_method&quot;: &quot;automatic&quot;,
      &quot;client_secret&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz_secret_aQjLuqBJVh5jsDtdP43b5K7ZG&quot;,
      &quot;confirmation_method&quot;: &quot;automatic&quot;,
      &quot;created&quot;: 1689771796,
      &quot;currency&quot;: &quot;gbp&quot;,
      &quot;customer&quot;: null,
      &quot;description&quot;: null,
      &quot;id&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz&quot;,
      &quot;invoice&quot;: null,
      &quot;last_payment_error&quot;: null,
      &quot;latest_charge&quot;: &quot;ch_3NVa2CBa6q53FNEn0ADcrhH4&quot;,
      &quot;livemode&quot;: false,
      &quot;metadata&quot;: {
        &quot;bag&quot;: &quot;{\&quot;2\&quot;: {\&quot;items_by_size\&quot;: {\&quot;XS\&quot;: 1}}}&quot;,
        &quot;save_info&quot;: &quot;false&quot;,
        &quot;username&quot;: &quot;AnonymousUser&quot;
      },
      &quot;next_action&quot;: null,
      &quot;object&quot;: &quot;payment_intent&quot;,
      &quot;on_behalf_of&quot;: null,
      &quot;payment_method&quot;: &quot;pm_1NVa2mBa6q53FNEnPV3kK3oj&quot;,
      &quot;payment_method_options&quot;: {
        &quot;card&quot;: {
          &quot;installments&quot;: null,
          &quot;mandate_options&quot;: null,
          &quot;network&quot;: null,
          &quot;request_three_d_secure&quot;: &quot;automatic&quot;
        }
      },
      &quot;payment_method_types&quot;: [
        &quot;card&quot;
      ],
      &quot;processing&quot;: null,
      &quot;receipt_email&quot;: null,
      &quot;review&quot;: null,
      &quot;setup_future_usage&quot;: null,
      &quot;shipping&quot;: {
        &quot;address&quot;: {
          &quot;city&quot;: &quot;1231&quot;,
          &quot;country&quot;: &quot;GB&quot;,
          &quot;line1&quot;: &quot;12121&quot;,
          &quot;line2&quot;: &quot;12121&quot;,
          &quot;postal_code&quot;: &quot;12221&quot;,
          &quot;state&quot;: &quot;anywher&quot;
        },
        &quot;carrier&quot;: null,
        &quot;name&quot;: &quot;test genghis&quot;,
        &quot;phone&quot;: &quot;13412341234&quot;,
        &quot;tracking_number&quot;: null
      },
      &quot;source&quot;: null,
      &quot;statement_descriptor&quot;: null,
      &quot;statement_descriptor_suffix&quot;: null,
      &quot;status&quot;: &quot;succeeded&quot;,
      &quot;transfer_data&quot;: null,
      &quot;transfer_group&quot;: null
    }
  },
  &quot;id&quot;: &quot;evt_3NVa2CBa6q53FNEn0mPnFHwy&quot;,
  &quot;livemode&quot;: false,
  &quot;object&quot;: &quot;event&quot;,
  &quot;pending_webhooks&quot;: 1,
  &quot;request&quot;: {
    &quot;id&quot;: &quot;req_npZsVDDgnXg72E&quot;,
    &quot;idempotency_key&quot;: &quot;3a02bce7-4550-4dda-851a-58c51eb8d3de&quot;
  },
  &quot;type&quot;: &quot;payment_intent.succeeded&quot;
}</pre></td>
                  </tr>
                
                  <tr>
                    <td>field</td>
                    <td class="code"><pre>&#x27;state&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>grand_total</td>
                    <td class="code"><pre>12.99</pre></td>
                  </tr>
                
                  <tr>
                    <td>intent</td>
                    <td class="code"><pre>&lt;PaymentIntent payment_intent id=pi_3NVa2CBa6q53FNEn00R8Jktz at 0x7f47eb5804d0&gt; JSON: {
  &quot;amount&quot;: 1299,
  &quot;amount_capturable&quot;: 0,
  &quot;amount_details&quot;: {
    &quot;tip&quot;: {}
  },
  &quot;amount_received&quot;: 1299,
  &quot;application&quot;: null,
  &quot;application_fee_amount&quot;: null,
  &quot;automatic_payment_methods&quot;: null,
  &quot;canceled_at&quot;: null,
  &quot;cancellation_reason&quot;: null,
  &quot;capture_method&quot;: &quot;automatic&quot;,
  &quot;client_secret&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz_secret_aQjLuqBJVh5jsDtdP43b5K7ZG&quot;,
  &quot;confirmation_method&quot;: &quot;automatic&quot;,
  &quot;created&quot;: 1689771796,
  &quot;currency&quot;: &quot;gbp&quot;,
  &quot;customer&quot;: null,
  &quot;description&quot;: null,
  &quot;id&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz&quot;,
  &quot;invoice&quot;: null,
  &quot;last_payment_error&quot;: null,
  &quot;latest_charge&quot;: &quot;ch_3NVa2CBa6q53FNEn0ADcrhH4&quot;,
  &quot;livemode&quot;: false,
  &quot;metadata&quot;: {
    &quot;bag&quot;: &quot;{\&quot;2\&quot;: {\&quot;items_by_size\&quot;: {\&quot;XS\&quot;: 1}}}&quot;,
    &quot;save_info&quot;: &quot;false&quot;,
    &quot;username&quot;: &quot;AnonymousUser&quot;
  },
  &quot;next_action&quot;: null,
  &quot;object&quot;: &quot;payment_intent&quot;,
  &quot;on_behalf_of&quot;: null,
  &quot;payment_method&quot;: &quot;pm_1NVa2mBa6q53FNEnPV3kK3oj&quot;,
  &quot;payment_method_options&quot;: {
    &quot;card&quot;: {
      &quot;installments&quot;: null,
      &quot;mandate_options&quot;: null,
      &quot;network&quot;: null,
      &quot;request_three_d_secure&quot;: &quot;automatic&quot;
    }
  },
  &quot;payment_method_types&quot;: [
    &quot;card&quot;
  ],
  &quot;processing&quot;: null,
  &quot;receipt_email&quot;: null,
  &quot;review&quot;: null,
  &quot;setup_future_usage&quot;: null,
  &quot;shipping&quot;: {
    &quot;address&quot;: {
      &quot;city&quot;: &quot;1231&quot;,
      &quot;country&quot;: &quot;GB&quot;,
      &quot;line1&quot;: &quot;12121&quot;,
      &quot;line2&quot;: &quot;12121&quot;,
      &quot;postal_code&quot;: &quot;12221&quot;,
      &quot;state&quot;: &quot;anywher&quot;
    },
    &quot;carrier&quot;: null,
    &quot;name&quot;: &quot;test genghis&quot;,
    &quot;phone&quot;: &quot;13412341234&quot;,
    &quot;tracking_number&quot;: null
  },
  &quot;source&quot;: null,
  &quot;statement_descriptor&quot;: null,
  &quot;statement_descriptor_suffix&quot;: null,
  &quot;status&quot;: &quot;succeeded&quot;,
  &quot;transfer_data&quot;: null,
  &quot;transfer_group&quot;: null
}</pre></td>
                  </tr>
                
                  <tr>
                    <td>order_exists</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>pid</td>
                    <td class="code"><pre>&#x27;pi_3NVa2CBa6q53FNEn00R8Jktz&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>save_info</td>
                    <td class="code"><pre>&#x27;false&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;checkout.webhook_handler.StripeWH_Handler object at 0x7f47eb5ca150&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>shipping_details</td>
                    <td class="code"><pre>&lt;StripeObject at 0x7f47eb580cb0&gt; JSON: {
  &quot;address&quot;: {
    &quot;city&quot;: &quot;1231&quot;,
    &quot;country&quot;: &quot;GB&quot;,
    &quot;line1&quot;: &quot;12121&quot;,
    &quot;line2&quot;: &quot;12121&quot;,
    &quot;postal_code&quot;: &quot;12221&quot;,
    &quot;state&quot;: &quot;anywher&quot;
  },
  &quot;carrier&quot;: null,
  &quot;name&quot;: &quot;test genghis&quot;,
  &quot;phone&quot;: &quot;13412341234&quot;,
  &quot;tracking_number&quot;: null
}</pre></td>
                  </tr>
                
                  <tr>
                    <td>stripe_charge</td>
                    <td class="code"><pre>&lt;Charge charge id=ch_3NVa2CBa6q53FNEn0ADcrhH4 at 0x7f47eb580dd0&gt; JSON: {
  &quot;amount&quot;: 1299,
  &quot;amount_captured&quot;: 1299,
  &quot;amount_refunded&quot;: 0,
  &quot;application&quot;: null,
  &quot;application_fee&quot;: null,
  &quot;application_fee_amount&quot;: null,
  &quot;balance_transaction&quot;: &quot;txn_3NVa2CBa6q53FNEn0OA3u9n9&quot;,
  &quot;billing_details&quot;: {
    &quot;address&quot;: {
      &quot;city&quot;: &quot;1231&quot;,
      &quot;country&quot;: &quot;GB&quot;,
      &quot;line1&quot;: &quot;12121&quot;,
      &quot;line2&quot;: &quot;12121&quot;,
      &quot;postal_code&quot;: &quot;24242&quot;,
      &quot;state&quot;: &quot;anywher&quot;
    },
    &quot;email&quot;: &quot;khanlewis159@gmail.com&quot;,
    &quot;name&quot;: &quot;test genghis&quot;,
    &quot;phone&quot;: &quot;13412341234&quot;
  },
  &quot;calculated_statement_descriptor&quot;: &quot;Stripe&quot;,
  &quot;captured&quot;: true,
  &quot;created&quot;: 1689771832,
  &quot;currency&quot;: &quot;gbp&quot;,
  &quot;customer&quot;: null,
  &quot;description&quot;: null,
  &quot;destination&quot;: null,
  &quot;dispute&quot;: null,
  &quot;disputed&quot;: false,
  &quot;failure_balance_transaction&quot;: null,
  &quot;failure_code&quot;: null,
  &quot;failure_message&quot;: null,
  &quot;fraud_details&quot;: {},
  &quot;id&quot;: &quot;ch_3NVa2CBa6q53FNEn0ADcrhH4&quot;,
  &quot;invoice&quot;: null,
  &quot;livemode&quot;: false,
  &quot;metadata&quot;: {
    &quot;bag&quot;: &quot;{\&quot;2\&quot;: {\&quot;items_by_size\&quot;: {\&quot;XS\&quot;: 1}}}&quot;,
    &quot;save_info&quot;: &quot;false&quot;,
    &quot;username&quot;: &quot;AnonymousUser&quot;
  },
  &quot;object&quot;: &quot;charge&quot;,
  &quot;on_behalf_of&quot;: null,
  &quot;order&quot;: null,
  &quot;outcome&quot;: {
    &quot;network_status&quot;: &quot;approved_by_network&quot;,
    &quot;reason&quot;: null,
    &quot;risk_level&quot;: &quot;normal&quot;,
    &quot;risk_score&quot;: 10,
    &quot;seller_message&quot;: &quot;Payment complete.&quot;,
    &quot;type&quot;: &quot;authorized&quot;
  },
  &quot;paid&quot;: true,
  &quot;payment_intent&quot;: &quot;pi_3NVa2CBa6q53FNEn00R8Jktz&quot;,
  &quot;payment_method&quot;: &quot;pm_1NVa2mBa6q53FNEnPV3kK3oj&quot;,
  &quot;payment_method_details&quot;: {
    &quot;card&quot;: {
      &quot;brand&quot;: &quot;visa&quot;,
      &quot;checks&quot;: {
        &quot;address_line1_check&quot;: &quot;pass&quot;,
        &quot;address_postal_code_check&quot;: &quot;pass&quot;,
        &quot;cvc_check&quot;: &quot;pass&quot;
      },
      &quot;country&quot;: &quot;US&quot;,
      &quot;exp_month&quot;: 4,
      &quot;exp_year&quot;: 2025,
      &quot;fingerprint&quot;: &quot;WcgPWLzYCOUe1h4V&quot;,
      &quot;funding&quot;: &quot;credit&quot;,
      &quot;installments&quot;: null,
      &quot;last4&quot;: &quot;4242&quot;,
      &quot;mandate&quot;: null,
      &quot;network&quot;: &quot;visa&quot;,
      &quot;network_token&quot;: {
        &quot;used&quot;: false
      },
      &quot;three_d_secure&quot;: null,
      &quot;wallet&quot;: null
    },
    &quot;type&quot;: &quot;card&quot;
  },
  &quot;receipt_email&quot;: null,
  &quot;receipt_number&quot;: null,
  &quot;receipt_url&quot;: &quot;https://pay.stripe.com/receipts/payment/CAcaFwoVYWNjdF8xTXpGZHhCYTZxNTNGTkVuKLq-36UGMgaUN45jykg6LBaBUy_LRlzJx_pOfVIpKCxHscJJN1EkbrJdRzH4jSw-16Msg09-Uukj2xo8&quot;,
  &quot;refunded&quot;: false,
  &quot;review&quot;: null,
  &quot;shipping&quot;: {
    &quot;address&quot;: {
      &quot;city&quot;: &quot;1231&quot;,
      &quot;country&quot;: &quot;GB&quot;,
      &quot;line1&quot;: &quot;12121&quot;,
      &quot;line2&quot;: &quot;12121&quot;,
      &quot;postal_code&quot;: &quot;12221&quot;,
      &quot;state&quot;: &quot;anywher&quot;
    },
    &quot;carrier&quot;: null,
    &quot;name&quot;: &quot;test genghis&quot;,
    &quot;phone&quot;: &quot;13412341234&quot;,
    &quot;tracking_number&quot;: null
  },
  &quot;source&quot;: null,
  &quot;source_transfer&quot;: null,
  &quot;statement_descriptor&quot;: null,
  &quot;statement_descriptor_suffix&quot;: null,
  &quot;status&quot;: &quot;succeeded&quot;,
  &quot;transfer_data&quot;: null,
  &quot;transfer_group&quot;: null
}</pre></td>
                  </tr>
                
                  <tr>
                    <td>value</td>
                    <td class="code"><pre>&#x27;anywher&#x27;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/manager.py</code>, line 85, in manager_method
          
          
            <div class="context" id="c139946872999360">
              
                <ol start="78" class="pre-context" id="pre139946872999360">
                
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>    def check(self, **kwargs):</pre></li>
                
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>        return []</pre></li>
                
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>    @classmethod</pre></li>
                
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>    def _get_queryset_methods(cls, queryset_class):</pre></li>
                
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>        def create_method(name, method):</pre></li>
                
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>            def manager_method(self, *args, **kwargs):</pre></li>
                
                </ol>
              
              <ol start="85" class="context-line">
                <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>                return getattr(self.get_queryset(), name)(*args, **kwargs)</pre> <span>…</span></li>
              </ol>
              
                <ol start='86' class="post-context" id="post139946872999360">
                  
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>            manager_method.__name__ = method.__name__</pre></li>
                  
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>            manager_method.__doc__ = method.__doc__</pre></li>
                  
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>            return manager_method</pre></li>
                  
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>        new_methods = {}</pre></li>
                  
                  <li onclick="toggle('pre139946872999360', 'post139946872999360')"><pre>        for name, method in inspect.getmembers(queryset_class, predicate=inspect.isfunction):</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946872999360')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946872999360">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{&#x27;country__iexact&#x27;: &#x27;GB&#x27;,
 &#x27;county__iexact&#x27;: &#x27;anywher&#x27;,
 &#x27;email__iexact&#x27;: &#x27;khanlewis159@gmail.com&#x27;,
 &#x27;full_name__iexact&#x27;: &#x27;test genghis&#x27;,
 &#x27;grand_total&#x27;: 12.99,
 &#x27;original_bag&#x27;: &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;,
 &#x27;phone_number__iexact&#x27;: &#x27;13412341234&#x27;,
 &#x27;postcode__iexact&#x27;: &#x27;12221&#x27;,
 &#x27;street_address1__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;street_address2__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;stripe_pid&#x27;: &#x27;pi_3NVa2CBa6q53FNEn00R8Jktz&#x27;,
 &#x27;town_or_city__iexact&#x27;: &#x27;1231&#x27;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>name</td>
                    <td class="code"><pre>&#x27;get&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;django.db.models.manager.Manager object at 0x7f47ebbc67d0&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/query.py</code>, line 424, in get
          
          
            <div class="context" id="c139946873009344">
              
                <ol start="417" class="pre-context" id="pre139946873009344">
                
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>        keyword arguments.</pre></li>
                
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>        &quot;&quot;&quot;</pre></li>
                
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>        if self.query.combinator and (args or kwargs):</pre></li>
                
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>            raise NotSupportedError(</pre></li>
                
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>                &#x27;Calling QuerySet.get(...) with filters after %s() is not &#x27;</pre></li>
                
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>                &#x27;supported.&#x27; % self.query.combinator</pre></li>
                
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>            )</pre></li>
                
                </ol>
              
              <ol start="424" class="context-line">
                <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>        clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)</pre> <span>…</span></li>
              </ol>
              
                <ol start='425' class="post-context" id="post139946873009344">
                  
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>        if self.query.can_filter() and not self.query.distinct_fields:</pre></li>
                  
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>            clone = clone.order_by()</pre></li>
                  
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>        limit = None</pre></li>
                  
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>        if not clone.query.select_for_update or connections[clone.db].features.supports_select_for_update_with_limit:</pre></li>
                  
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>            limit = MAX_GET_RESULTS</pre></li>
                  
                  <li onclick="toggle('pre139946873009344', 'post139946873009344')"><pre>            clone.query.set_limits(high=limit)</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873009344')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873009344">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{&#x27;country__iexact&#x27;: &#x27;GB&#x27;,
 &#x27;county__iexact&#x27;: &#x27;anywher&#x27;,
 &#x27;email__iexact&#x27;: &#x27;khanlewis159@gmail.com&#x27;,
 &#x27;full_name__iexact&#x27;: &#x27;test genghis&#x27;,
 &#x27;grand_total&#x27;: 12.99,
 &#x27;original_bag&#x27;: &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;,
 &#x27;phone_number__iexact&#x27;: &#x27;13412341234&#x27;,
 &#x27;postcode__iexact&#x27;: &#x27;12221&#x27;,
 &#x27;street_address1__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;street_address2__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;stripe_pid&#x27;: &#x27;pi_3NVa2CBa6q53FNEn00R8Jktz&#x27;,
 &#x27;town_or_city__iexact&#x27;: &#x27;1231&#x27;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;QuerySet [&lt;Order: 6748CAD12A0846DC971F5393510BE96A&gt;, &lt;Order: B98BF326D7364A1E9172627A4CCF279D&gt;, &lt;Order: 69AA66F1866643CE9435FBAB1663575D&gt;, &lt;Order: 60BEC2CFA6064988820346861C4E9FFD&gt;, &lt;Order: 9DF3119731EF4B34B842E4B6E9F7455E&gt;, &lt;Order: DD5B1896DE92451A9F8C21258609F2F8&gt;, &lt;Order: FA61AC2808DA4776803F5FB414D4FD15&gt;, &lt;Order: 81891CC78F784F93B2B878AADE5AF952&gt;, &lt;Order: 08D3C78831A049589D7671396FC33494&gt;, &lt;Order: 6DE3571AE16544E48D95529E16D47602&gt;, &lt;Order: 89B1CA1852E74F2B9081410208B729A5&gt;, &lt;Order: AEAC6798D5B34C1EA52326C1F7170235&gt;, &lt;Order: F1D80059F6DD405F818BE0279126C028&gt;]&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/query.py</code>, line 941, in filter
          
          
            <div class="context" id="c139946872997696">
              
                <ol start="934" class="pre-context" id="pre139946872997696">
                
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>    def filter(self, *args, **kwargs):</pre></li>
                
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        &quot;&quot;&quot;</pre></li>
                
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        Return a new QuerySet instance with the args ANDed to the existing</pre></li>
                
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        set.</pre></li>
                
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        &quot;&quot;&quot;</pre></li>
                
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        self._not_support_combined_queries(&#x27;filter&#x27;)</pre></li>
                
                </ol>
              
              <ol start="941" class="context-line">
                <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        return self._filter_or_exclude(False, args, kwargs)</pre> <span>…</span></li>
              </ol>
              
                <ol start='942' class="post-context" id="post139946872997696">
                  
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>    def exclude(self, *args, **kwargs):</pre></li>
                  
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        &quot;&quot;&quot;</pre></li>
                  
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        Return a new QuerySet instance with NOT (args) ANDed to the existing</pre></li>
                  
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        set.</pre></li>
                  
                  <li onclick="toggle('pre139946872997696', 'post139946872997696')"><pre>        &quot;&quot;&quot;</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946872997696')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946872997696">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{&#x27;country__iexact&#x27;: &#x27;GB&#x27;,
 &#x27;county__iexact&#x27;: &#x27;anywher&#x27;,
 &#x27;email__iexact&#x27;: &#x27;khanlewis159@gmail.com&#x27;,
 &#x27;full_name__iexact&#x27;: &#x27;test genghis&#x27;,
 &#x27;grand_total&#x27;: 12.99,
 &#x27;original_bag&#x27;: &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;,
 &#x27;phone_number__iexact&#x27;: &#x27;13412341234&#x27;,
 &#x27;postcode__iexact&#x27;: &#x27;12221&#x27;,
 &#x27;street_address1__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;street_address2__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;stripe_pid&#x27;: &#x27;pi_3NVa2CBa6q53FNEn00R8Jktz&#x27;,
 &#x27;town_or_city__iexact&#x27;: &#x27;1231&#x27;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;QuerySet [&lt;Order: 6748CAD12A0846DC971F5393510BE96A&gt;, &lt;Order: B98BF326D7364A1E9172627A4CCF279D&gt;, &lt;Order: 69AA66F1866643CE9435FBAB1663575D&gt;, &lt;Order: 60BEC2CFA6064988820346861C4E9FFD&gt;, &lt;Order: 9DF3119731EF4B34B842E4B6E9F7455E&gt;, &lt;Order: DD5B1896DE92451A9F8C21258609F2F8&gt;, &lt;Order: FA61AC2808DA4776803F5FB414D4FD15&gt;, &lt;Order: 81891CC78F784F93B2B878AADE5AF952&gt;, &lt;Order: 08D3C78831A049589D7671396FC33494&gt;, &lt;Order: 6DE3571AE16544E48D95529E16D47602&gt;, &lt;Order: 89B1CA1852E74F2B9081410208B729A5&gt;, &lt;Order: AEAC6798D5B34C1EA52326C1F7170235&gt;, &lt;Order: F1D80059F6DD405F818BE0279126C028&gt;]&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/query.py</code>, line 961, in _filter_or_exclude
          
          
            <div class="context" id="c139946873000576">
              
                <ol start="954" class="pre-context" id="pre139946873000576">
                
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>                &quot;Cannot filter a query once a slice has been taken.&quot;</pre></li>
                
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>        clone = self._chain()</pre></li>
                
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>        if self._defer_next_filter:</pre></li>
                
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>            self._defer_next_filter = False</pre></li>
                
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>            clone._deferred_filter = negate, args, kwargs</pre></li>
                
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>        else:</pre></li>
                
                </ol>
              
              <ol start="961" class="context-line">
                <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>            clone._filter_or_exclude_inplace(negate, args, kwargs)</pre> <span>…</span></li>
              </ol>
              
                <ol start='962' class="post-context" id="post139946873000576">
                  
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>        return clone</pre></li>
                  
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>    def _filter_or_exclude_inplace(self, negate, args, kwargs):</pre></li>
                  
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>        if negate:</pre></li>
                  
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>            self._query.add_q(~Q(*args, **kwargs))</pre></li>
                  
                  <li onclick="toggle('pre139946873000576', 'post139946873000576')"><pre>        else:</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873000576')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873000576">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>clone</td>
                    <td class="code"><pre>&lt;QuerySet [&lt;Order: 6748CAD12A0846DC971F5393510BE96A&gt;, &lt;Order: B98BF326D7364A1E9172627A4CCF279D&gt;, &lt;Order: 69AA66F1866643CE9435FBAB1663575D&gt;, &lt;Order: 60BEC2CFA6064988820346861C4E9FFD&gt;, &lt;Order: 9DF3119731EF4B34B842E4B6E9F7455E&gt;, &lt;Order: DD5B1896DE92451A9F8C21258609F2F8&gt;, &lt;Order: FA61AC2808DA4776803F5FB414D4FD15&gt;, &lt;Order: 81891CC78F784F93B2B878AADE5AF952&gt;, &lt;Order: 08D3C78831A049589D7671396FC33494&gt;, &lt;Order: 6DE3571AE16544E48D95529E16D47602&gt;, &lt;Order: 89B1CA1852E74F2B9081410208B729A5&gt;, &lt;Order: AEAC6798D5B34C1EA52326C1F7170235&gt;, &lt;Order: F1D80059F6DD405F818BE0279126C028&gt;]&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{&#x27;country__iexact&#x27;: &#x27;GB&#x27;,
 &#x27;county__iexact&#x27;: &#x27;anywher&#x27;,
 &#x27;email__iexact&#x27;: &#x27;khanlewis159@gmail.com&#x27;,
 &#x27;full_name__iexact&#x27;: &#x27;test genghis&#x27;,
 &#x27;grand_total&#x27;: 12.99,
 &#x27;original_bag&#x27;: &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;,
 &#x27;phone_number__iexact&#x27;: &#x27;13412341234&#x27;,
 &#x27;postcode__iexact&#x27;: &#x27;12221&#x27;,
 &#x27;street_address1__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;street_address2__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;stripe_pid&#x27;: &#x27;pi_3NVa2CBa6q53FNEn00R8Jktz&#x27;,
 &#x27;town_or_city__iexact&#x27;: &#x27;1231&#x27;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>negate</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;QuerySet [&lt;Order: 6748CAD12A0846DC971F5393510BE96A&gt;, &lt;Order: B98BF326D7364A1E9172627A4CCF279D&gt;, &lt;Order: 69AA66F1866643CE9435FBAB1663575D&gt;, &lt;Order: 60BEC2CFA6064988820346861C4E9FFD&gt;, &lt;Order: 9DF3119731EF4B34B842E4B6E9F7455E&gt;, &lt;Order: DD5B1896DE92451A9F8C21258609F2F8&gt;, &lt;Order: FA61AC2808DA4776803F5FB414D4FD15&gt;, &lt;Order: 81891CC78F784F93B2B878AADE5AF952&gt;, &lt;Order: 08D3C78831A049589D7671396FC33494&gt;, &lt;Order: 6DE3571AE16544E48D95529E16D47602&gt;, &lt;Order: 89B1CA1852E74F2B9081410208B729A5&gt;, &lt;Order: AEAC6798D5B34C1EA52326C1F7170235&gt;, &lt;Order: F1D80059F6DD405F818BE0279126C028&gt;]&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/query.py</code>, line 968, in _filter_or_exclude_inplace
          
          
            <div class="context" id="c139946873000128">
              
                <ol start="961" class="pre-context" id="pre139946873000128">
                
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>            clone._filter_or_exclude_inplace(negate, args, kwargs)</pre></li>
                
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>        return clone</pre></li>
                
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre></pre></li>
                
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>    def _filter_or_exclude_inplace(self, negate, args, kwargs):</pre></li>
                
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>        if negate:</pre></li>
                
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>            self._query.add_q(~Q(*args, **kwargs))</pre></li>
                
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>        else:</pre></li>
                
                </ol>
              
              <ol start="968" class="context-line">
                <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>            self._query.add_q(Q(*args, **kwargs))</pre> <span>…</span></li>
              </ol>
              
                <ol start='969' class="post-context" id="post139946873000128">
                  
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>    def complex_filter(self, filter_obj):</pre></li>
                  
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>        &quot;&quot;&quot;</pre></li>
                  
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>        Return a new QuerySet instance with filter_obj added to the filters.</pre></li>
                  
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873000128', 'post139946873000128')"><pre>        filter_obj can be a Q object or a dictionary of keyword lookup</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873000128')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873000128">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>args</td>
                    <td class="code"><pre>()</pre></td>
                  </tr>
                
                  <tr>
                    <td>kwargs</td>
                    <td class="code"><pre>{&#x27;country__iexact&#x27;: &#x27;GB&#x27;,
 &#x27;county__iexact&#x27;: &#x27;anywher&#x27;,
 &#x27;email__iexact&#x27;: &#x27;khanlewis159@gmail.com&#x27;,
 &#x27;full_name__iexact&#x27;: &#x27;test genghis&#x27;,
 &#x27;grand_total&#x27;: 12.99,
 &#x27;original_bag&#x27;: &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;,
 &#x27;phone_number__iexact&#x27;: &#x27;13412341234&#x27;,
 &#x27;postcode__iexact&#x27;: &#x27;12221&#x27;,
 &#x27;street_address1__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;street_address2__iexact&#x27;: &#x27;12121&#x27;,
 &#x27;stripe_pid&#x27;: &#x27;pi_3NVa2CBa6q53FNEn00R8Jktz&#x27;,
 &#x27;town_or_city__iexact&#x27;: &#x27;1231&#x27;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>negate</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;QuerySet [&lt;Order: 6748CAD12A0846DC971F5393510BE96A&gt;, &lt;Order: B98BF326D7364A1E9172627A4CCF279D&gt;, &lt;Order: 69AA66F1866643CE9435FBAB1663575D&gt;, &lt;Order: 60BEC2CFA6064988820346861C4E9FFD&gt;, &lt;Order: 9DF3119731EF4B34B842E4B6E9F7455E&gt;, &lt;Order: DD5B1896DE92451A9F8C21258609F2F8&gt;, &lt;Order: FA61AC2808DA4776803F5FB414D4FD15&gt;, &lt;Order: 81891CC78F784F93B2B878AADE5AF952&gt;, &lt;Order: 08D3C78831A049589D7671396FC33494&gt;, &lt;Order: 6DE3571AE16544E48D95529E16D47602&gt;, &lt;Order: 89B1CA1852E74F2B9081410208B729A5&gt;, &lt;Order: AEAC6798D5B34C1EA52326C1F7170235&gt;, &lt;Order: F1D80059F6DD405F818BE0279126C028&gt;]&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/sql/query.py</code>, line 1416, in add_q
          
          
            <div class="context" id="c139946873008960">
              
                <ol start="1409" class="pre-context" id="pre139946873008960">
                
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        # For join promotion this case is doing an AND for the added q_object</pre></li>
                
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        # and existing conditions. So, any existing inner join forces the join</pre></li>
                
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        # type to remain inner. Existing outer joins can however be demoted.</pre></li>
                
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        # (Consider case where rel_a is LOUTER and rel_a__col=1 is added - if</pre></li>
                
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        # rel_a doesn&#x27;t produce any rows, then the whole condition must fail.</pre></li>
                
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        # So, demotion is OK.</pre></li>
                
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        existing_inner = {a for a in self.alias_map if self.alias_map[a].join_type == INNER}</pre></li>
                
                </ol>
              
              <ol start="1416" class="context-line">
                <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        clause, _ = self._add_q(q_object, self.used_aliases)</pre> <span>…</span></li>
              </ol>
              
                <ol start='1417' class="post-context" id="post139946873008960">
                  
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        if clause:</pre></li>
                  
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>            self.where.add(clause, AND)</pre></li>
                  
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        self.demote_joins(existing_inner)</pre></li>
                  
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>    def build_where(self, filter_expr):</pre></li>
                  
                  <li onclick="toggle('pre139946873008960', 'post139946873008960')"><pre>        return self.build_filter(filter_expr, allow_joins=False)[0]</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873008960')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873008960">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>existing_inner</td>
                    <td class="code"><pre>set()</pre></td>
                  </tr>
                
                  <tr>
                    <td>q_object</td>
                    <td class="code"><pre>&lt;Q: (AND: (&#x27;country__iexact&#x27;, &#x27;GB&#x27;), (&#x27;county__iexact&#x27;, &#x27;anywher&#x27;), (&#x27;email__iexact&#x27;, &#x27;khanlewis159@gmail.com&#x27;), (&#x27;full_name__iexact&#x27;, &#x27;test genghis&#x27;), (&#x27;grand_total&#x27;, 12.99), (&#x27;original_bag&#x27;, &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;), (&#x27;phone_number__iexact&#x27;, &#x27;13412341234&#x27;), (&#x27;postcode__iexact&#x27;, &#x27;12221&#x27;), (&#x27;street_address1__iexact&#x27;, &#x27;12121&#x27;), (&#x27;street_address2__iexact&#x27;, &#x27;12121&#x27;), (&#x27;stripe_pid&#x27;, &#x27;pi_3NVa2CBa6q53FNEn00R8Jktz&#x27;), (&#x27;town_or_city__iexact&#x27;, &#x27;1231&#x27;))&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;django.db.models.sql.query.Query object at 0x7f47eba732d0&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/sql/query.py</code>, line 1435, in _add_q
          
          
            <div class="context" id="c139946873010496">
              
                <ol start="1428" class="pre-context" id="pre139946873010496">
                
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>        connector = q_object.connector</pre></li>
                
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>        current_negated = current_negated ^ q_object.negated</pre></li>
                
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>        branch_negated = branch_negated or q_object.negated</pre></li>
                
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>        target_clause = self.where_class(connector=connector,</pre></li>
                
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>                                         negated=q_object.negated)</pre></li>
                
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>        joinpromoter = JoinPromoter(q_object.connector, len(q_object.children), current_negated)</pre></li>
                
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>        for child in q_object.children:</pre></li>
                
                </ol>
              
              <ol start="1435" class="context-line">
                <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>            child_clause, needed_inner = self.build_filter(</pre> <span>…</span></li>
              </ol>
              
                <ol start='1436' class="post-context" id="post139946873010496">
                  
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>                child, can_reuse=used_aliases, branch_negated=branch_negated,</pre></li>
                  
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>                current_negated=current_negated, allow_joins=allow_joins,</pre></li>
                  
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>                split_subq=split_subq, check_filterable=check_filterable,</pre></li>
                  
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>            )</pre></li>
                  
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>            joinpromoter.add_votes(needed_inner)</pre></li>
                  
                  <li onclick="toggle('pre139946873010496', 'post139946873010496')"><pre>            if child_clause:</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873010496')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873010496">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>allow_joins</td>
                    <td class="code"><pre>True</pre></td>
                  </tr>
                
                  <tr>
                    <td>branch_negated</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>check_filterable</td>
                    <td class="code"><pre>True</pre></td>
                  </tr>
                
                  <tr>
                    <td>child</td>
                    <td class="code"><pre>(&#x27;original_bag&#x27;, &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>child_clause</td>
                    <td class="code"><pre>&lt;WhereNode: (AND: &lt;django.db.models.lookups.Exact object at 0x7f47eba70a10&gt;)&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>connector</td>
                    <td class="code"><pre>&#x27;AND&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>current_negated</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>joinpromoter</td>
                    <td class="code"><pre>&lt;django.db.models.sql.query.JoinPromoter object at 0x7f47eba73010&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>needed_inner</td>
                    <td class="code"><pre>{&#x27;checkout_order&#x27;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>q_object</td>
                    <td class="code"><pre>&lt;Q: (AND: (&#x27;country__iexact&#x27;, &#x27;GB&#x27;), (&#x27;county__iexact&#x27;, &#x27;anywher&#x27;), (&#x27;email__iexact&#x27;, &#x27;khanlewis159@gmail.com&#x27;), (&#x27;full_name__iexact&#x27;, &#x27;test genghis&#x27;), (&#x27;grand_total&#x27;, 12.99), (&#x27;original_bag&#x27;, &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;), (&#x27;phone_number__iexact&#x27;, &#x27;13412341234&#x27;), (&#x27;postcode__iexact&#x27;, &#x27;12221&#x27;), (&#x27;street_address1__iexact&#x27;, &#x27;12121&#x27;), (&#x27;street_address2__iexact&#x27;, &#x27;12121&#x27;), (&#x27;stripe_pid&#x27;, &#x27;pi_3NVa2CBa6q53FNEn00R8Jktz&#x27;), (&#x27;town_or_city__iexact&#x27;, &#x27;1231&#x27;))&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;django.db.models.sql.query.Query object at 0x7f47eba732d0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>split_subq</td>
                    <td class="code"><pre>True</pre></td>
                  </tr>
                
                  <tr>
                    <td>target_clause</td>
                    <td class="code"><pre>&lt;WhereNode: (AND: &lt;django.db.models.lookups.IExact object at 0x7f47eba72310&gt;, &lt;django.db.models.lookups.IExact object at 0x7f47eba72c10&gt;, &lt;django.db.models.lookups.IExact object at 0x7f47eba72a90&gt;, &lt;django.db.models.lookups.IExact object at 0x7f47eba71a50&gt;, &lt;django.db.models.lookups.Exact object at 0x7f47eba70a10&gt;)&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>used_aliases</td>
                    <td class="code"><pre>{&#x27;checkout_order&#x27;}</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/sql/query.py</code>, line 1309, in build_filter
          
          
            <div class="context" id="c139946873003648">
              
                <ol start="1302" class="pre-context" id="pre139946873003648">
                
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>            )</pre></li>
                
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>            clause = self.where_class()</pre></li>
                
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>            clause.add(condition, AND)</pre></li>
                
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>            return clause, []</pre></li>
                
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>        arg, value = filter_expr</pre></li>
                
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>        if not arg:</pre></li>
                
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>            raise FieldError(&quot;Cannot parse keyword query %r&quot; % arg)</pre></li>
                
                </ol>
              
              <ol start="1309" class="context-line">
                <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>        lookups, parts, reffed_expression = self.solve_lookup_type(arg)</pre> <span>…</span></li>
              </ol>
              
                <ol start='1310' class="post-context" id="post139946873003648">
                  
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>        if check_filterable:</pre></li>
                  
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>            self.check_filterable(reffed_expression)</pre></li>
                  
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre></pre></li>
                  
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>        if not allow_joins and len(parts) &gt; 1:</pre></li>
                  
                  <li onclick="toggle('pre139946873003648', 'post139946873003648')"><pre>            raise FieldError(&quot;Joined field references are not permitted in this query&quot;)</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873003648')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873003648">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>allow_joins</td>
                    <td class="code"><pre>True</pre></td>
                  </tr>
                
                  <tr>
                    <td>arg</td>
                    <td class="code"><pre>&#x27;original_bag&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>branch_negated</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>can_reuse</td>
                    <td class="code"><pre>{&#x27;checkout_order&#x27;}</pre></td>
                  </tr>
                
                  <tr>
                    <td>check_filterable</td>
                    <td class="code"><pre>True</pre></td>
                  </tr>
                
                  <tr>
                    <td>current_negated</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>filter_expr</td>
                    <td class="code"><pre>(&#x27;original_bag&#x27;, &#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;)</pre></td>
                  </tr>
                
                  <tr>
                    <td>reuse_with_filtered_relation</td>
                    <td class="code"><pre>False</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;django.db.models.sql.query.Query object at 0x7f47eba732d0&gt;</pre></td>
                  </tr>
                
                  <tr>
                    <td>split_subq</td>
                    <td class="code"><pre>True</pre></td>
                  </tr>
                
                  <tr>
                    <td>value</td>
                    <td class="code"><pre>&#x27;{&quot;2&quot;: {&quot;items_by_size&quot;: {&quot;XS&quot;: 1}}}&#x27;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/sql/query.py</code>, line 1135, in solve_lookup_type
          
          
            <div class="context" id="c139946873011776">
              
                <ol start="1128" class="pre-context" id="pre139946873011776">
                
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>        Solve the lookup type from the lookup (e.g.: &#x27;foobar__id__icontains&#x27;).</pre></li>
                
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>        &quot;&quot;&quot;</pre></li>
                
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>        lookup_splitted = lookup.split(LOOKUP_SEP)</pre></li>
                
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>        if self.annotations:</pre></li>
                
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>            expression, expression_lookups = refs_expression(lookup_splitted, self.annotations)</pre></li>
                
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>            if expression:</pre></li>
                
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>                return expression_lookups, (), expression</pre></li>
                
                </ol>
              
              <ol start="1135" class="context-line">
                <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>        _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())</pre> <span>…</span></li>
              </ol>
              
                <ol start='1136' class="post-context" id="post139946873011776">
                  
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>        field_parts = lookup_splitted[0:len(lookup_splitted) - len(lookup_parts)]</pre></li>
                  
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>        if len(lookup_parts) &gt; 1 and not field_parts:</pre></li>
                  
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>            raise FieldError(</pre></li>
                  
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>                &#x27;Invalid lookup &quot;%s&quot; for model %s&quot;.&#x27; %</pre></li>
                  
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>                (lookup, self.get_meta().model.__name__)</pre></li>
                  
                  <li onclick="toggle('pre139946873011776', 'post139946873011776')"><pre>            )</pre></li>
                  
              </ol>
              
            </div>
          
          
            <div class="commands">
                
                    <a href="#" onclick="return varToggle(this, '139946873011776')"><span>&#x25b6;</span> Local vars</a>
                
            </div>
            <table class="vars" id="v139946873011776">
              <thead>
                <tr>
                  <th>Variable</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                
                  <tr>
                    <td>lookup</td>
                    <td class="code"><pre>&#x27;original_bag&#x27;</pre></td>
                  </tr>
                
                  <tr>
                    <td>lookup_splitted</td>
                    <td class="code"><pre>[&#x27;original_bag&#x27;]</pre></td>
                  </tr>
                
                  <tr>
                    <td>self</td>
                    <td class="code"><pre>&lt;django.db.models.sql.query.Query object at 0x7f47eba732d0&gt;</pre></td>
                  </tr>
                
              </tbody>
            </table>
          
        </li>
      
        
        <li class="frame django">
          
            <code class="fname">/app/.heroku/python/lib/python3.11/site-packages/django/db/models/sql/query.py</code>, line 1562, in names_to_path
          
          
   ...
Request
{
  "id": "evt_3NVa2CBa6q53FNEn0mPnFHwy",
  "object": "event",
  "api_version": "2022-11-15",
  "created": 1689771833,
  "data": {
    "object": {
      "id": "pi_3NVa2CBa6q53FNEn00R8Jktz",
      "object": "payment_intent",
      "amount": 1299,
      "amount_capturable": 0,
      "amount_details": {
        "tip": {
        }
      },
      "amount_received": 1299,
      "application": null,
      "application_fee_amount": null,
      "automatic_payment_methods": null,
      "canceled_at": null,
      "cancellation_reason": null,
      "capture_method": "automatic",
      "client_secret": "pi_3NVa2CBa6q53FNEn00R8Jktz_secret_aQjLuqBJVh5jsDtdP43b5K7ZG",
      "confirmation_method": "automatic",
      "created": 1689771796,
      "currency": "gbp",
      "customer": null,
      "description": null,
      "invoice": null,
      "last_payment_error": null,
      "latest_charge": "ch_3NVa2CBa6q53FNEn0ADcrhH4",
      "livemode": false,
      "metadata": {
        "bag": "{\"2\": {\"items_by_size\": {\"XS\": 1}}}",
        "save_info": "false",
        "username": "AnonymousUser"
      },
      "next_action": null,
      "on_behalf_of": null,
      "payment_method": "pm_1NVa2mBa6q53FNEnPV3kK3oj",
      "payment_method_options": {
        "card": {
          "installments": null,
          "mandate_options": null,
          "network": null,
          "request_three_d_secure": "automatic"
        }
      },
      "payment_method_types": [
        "card"
      ],
      "processing": null,
      "receipt_email": null,
      "review": null,
      "setup_future_usage": null,
      "shipping": {
        "address": {
          "city": "1231",
          "country": "GB",
          "line1": "12121",
          "line2": "12121",
          "postal_code": "12221",
          "state": "anywher"
        },
        "carrier": null,
        "name": "test genghis",
        "phone": "13412341234",
        "tracking_number": null
      },
      "source": null,
      "statement_descriptor": null,
      "statement_descriptor_suffix": null,
      "status": "succeeded",
      "transfer_data": null,
      "transfer_group": null
    }
  },
  "livemode": false,
  "pending_webhooks": 1,
  "request": {
    "id": "req_npZsVDDgnXg72E",
    "idempotency_key": "3a02bce7-4550-4dda-851a-58c51eb8d3de"
  },
  "type": "payment_intent.succeeded"
